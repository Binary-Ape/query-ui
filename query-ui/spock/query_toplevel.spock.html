<div ng-controller="qwQueryController as qc">
  <h3 ng-if="qc.validated.inProgress()">Contacting Query Node</h3>
  <div ng-if="!qc.validated.inProgress() && !qc.validated.valid()">
    <div ng-if="qc.validated.otherStatus()">
    <h2>Unable to access query panel: {{qc.validated.otherStatus()}}</h2>
    <h2>{{qc.validated.otherError()}}</h2>
    </div>
    <div ng-if="qc.validated.otherNodes().length" class="cbui-error-message">
      The query interface is only available on Couchbase nodes
        running the query service. <br>
      You may access the interface here:<br><br>
      <ul>
        <li class="cbui-nodelist"
          ng-repeat="url in qc.validated.otherNodes()"><a
          href="{{url}}">{{url}}</a></li>
      </ul>
    </div>
    <div ng-if="qc.validated.otherNodes().length == 0" class="cbui-error-message">
      No query nodes were found on this cluster, so N1QL querying is not possible.
    </div>
  </div>
  <!-- <ul ng-if="qc.validated.valid()" class="second-level-nav">
    <li><a ui-sref="app.admin.query.workbench"
      ui-sref-active="selected">Workbench</a></li>
    <li>
      <a
        ui-sref="app.admin.query.monitoring"
        ng-class="{selected: ('app.admin.query.monitoring' | includedByState)}">Monitoring</a>
    </li>
  </ul> -->
  <div ng-if="qc.validated.valid()" class="interim row flex-left sub-nav">
      <span class="pills">
        <a
          ui-sref="app.admin.query.workbench"
          ui-sref-active="pills-selected">
          Query Workbench</a>
      </span>
      <span class="pills">
        <a
          ui-sref="app.admin.query.monitoring"
          ui-sref-active="pills-selected"
          ng-class="{selected: ('app.admin.query.monitoring' | includedByState)}">Query Monitor</a>
      </span>
  </div>
  <div ui-view=""></div>
</div>
